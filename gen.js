//June 13, 2019//and July 19, 2019function generate(lat, lon, tz, dstrule, year) {	var ly;	if (year % 4 == 0 && year % 100 != 0 || year % 400 == 0) {		ly = 1;	} else {		ly = 0;	};	var dst = getdst(dstrule, year);	if (ly === 1) {		dst[0] ++;		dst[1] ++;	}	var file = "";	var stz = tz + 1	var wtz = tz	function calc(rs) {		if (i + 1 >= dst[0] && i + 1 < dst[1]) {			tz = stz		} else {			tz = wtz		};		var time = computeSunrise(lat,lon,tz,i,rs);		if (time !== "----" && time !== "****") {			time = time/3600000			var hours = Math.floor(time);			var minutes = Math.round((time - hours)*60);			if (hours > 23) {hours = hours - 24};			if (hours < 0) {hours = hours + 24};			if (minutes > 59) {				minutes = minutes - 60;				hours++;				};			hours = hours.toString();			minutes = minutes.toString();			if (hours.length < 2) {				hours = "0"+hours;				};				if (minutes.length < 2) {				minutes = "0"+minutes;				};			var output = hours + minutes;			file = file + output + " ";		} else {			file = file + time + " ";		};	};
	for(i=0;i<365;i++) {	calc(1);	};	if (ly == 1) {		calc(1)	};	for(i=0;i<365;i++) {	calc(0);	};		if (ly == 1) {		calc(0)	};
	return(file);	//It works!	//...even the time zones!	//calc rs is used to remove redundant code, in future potentially	//if the sunrise doesn't exist it automatically bypasses the sunset code too, which may be a problem	//Fixed Nan bug and implemented calc rs, but now we need to think about, say ---- followed by sunSet which is wrong	//Once this is done, we give STEQ support for **** and ----! And that's it!};